"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[172],{854:function(t,e,r){r.d(e,{a:function(){return u}});var n=r(3924),a=r(184),u=function(){return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(n.Ll,{color:"#1a5c72",height:80,width:80,wrapperStyle:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})})}},6172:function(t,e,r){r.r(e),r.d(e,{default:function(){return g}});var n=r(501),a=r(6871),u=(r(7951),r(1578)),c=r(184),o=function(t){var e=t.movies,r=(0,a.TH)();return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("ul",{children:e.map((function(t){var e=t.id,a=t.title,o=t.name;return(0,c.jsx)("li",{children:(0,c.jsxs)(n.rU,{to:"".concat(e),state:{from:r},children:[(0,c.jsx)(u.hlg,{}),a||o]})},e)}))})})},i=r(5861),s=r(885),p=r(7757),f=r.n(p),l=r(2791),v=r(8282),h="SearchForm_form__o80os",d="SearchForm_button__UXY06",m=function(t){var e=t.onSubmit,r=(0,l.useState)(""),n=(0,s.Z)(r,2),a=n[0],u=n[1];return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("form",{className:h,onSubmit:function(t){t.preventDefault(),e(a)},children:[(0,c.jsx)("label",{children:(0,c.jsx)("input",{type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",onChange:function(t){u(t.target.value)},value:a})}),(0,c.jsx)("button",{className:d,type:"submit",children:"Search"})]})})},x=r(854),g=function(){var t=function(){var t=(0,l.useState)(""),e=(0,s.Z)(t,2),r=e[0],a=e[1],u=(0,l.useState)([]),c=(0,s.Z)(u,2),o=c[0],p=c[1],h=(0,l.useState)(null),d=(0,s.Z)(h,2),m=d[0],x=d[1],g=(0,l.useState)(!1),b=(0,s.Z)(g,2),y=b[0],w=b[1],_=(0,n.lr)(),j=(0,s.Z)(_,2),k=j[0],S=j[1];return(0,l.useEffect)((function(){var t=k.get("query");if(t){w(!0);var e=function(){var e=(0,i.Z)(f().mark((function e(){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,v.Ph)(t.toLowerCase().trim());case 3:r=e.sent,p(r.results),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),x(e.t0),console.log(e.t0);case 11:return e.prev=11,w(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,7,11,14]])})));return function(){return e.apply(this,arguments)}}();e()}}),[k]),{query:r,movies:o,error:m,isLoading:y,onHandleSubmit:function(t){S({query:t}),a(k.get("query"))}}}(),e=t.movies,r=t.isLoading,a=t.onHandleSubmit,u=t.error;return(0,c.jsxs)("div",{children:[(0,c.jsx)(m,{onSubmit:a}),u&&(0,c.jsx)("p",{textAlign:"center",children:"Your search failed"}),r&&(0,c.jsx)(x.a,{}),e&&(0,c.jsx)(o,{movies:e})]})}},8282:function(t,e,r){r.d(e,{Ph:function(){return d},TP:function(){return l},tx:function(){return h},vw:function(){return f},zv:function(){return v}});var n=r(5861),a=r(7757),u=r.n(a),c=r(4569),o=r.n(c),i=r(2007),s=r.n(i);o().defaults.baseURL="https://api.themoviedb.org/3";var p="c3dfb97c4e42ba6803ce4a8859444b9b",f=function(){var t=(0,n.Z)(u().mark((function t(){var e,r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o().get("trending/all/day?api_key=".concat(p));case 2:return e=t.sent,r=e.data,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),l=function(){var t=(0,n.Z)(u().mark((function t(e){var r,n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o().get("movie/".concat(e,"?api_key=").concat(p));case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=(0,n.Z)(u().mark((function t(e){var r,n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o().get("movie/".concat(e,"/credits?api_key=").concat(p));case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=(0,n.Z)(u().mark((function t(e){var r,n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o().get("movie/".concat(e,"/reviews?api_key=").concat(p));case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=(0,n.Z)(u().mark((function t(e){var r,n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o().get("search/movie?api_key=".concat(p,"&query=").concat(e));case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();l.propTypes={movieId:s().string},v.propTypes={movieId:s().string},h.propTypes={movieId:s().string},d.propTypes={movieId:s().string}},7951:function(){}}]);
//# sourceMappingURL=172.5344eb4c.chunk.js.map